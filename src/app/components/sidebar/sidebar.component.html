<nav
  class="navbar navbar-vertical navbar-expand-md navbar-light bg-white"
  id="sidenav-main"
>
  <div class="container-fluid">
    <!-- Toggler -->
    <button
      class="navbar-toggler"
      type="button"
      (click)="isCollapsed = !isCollapsed"
      aria-controls="sidenav-collapse-main"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <!-- Brand -->
    <a
      class="navbar-brand pt-0"
      routerLinkActive="active"
      [routerLink]="['/dashboard']"
    >
      <!-- <img
        src="./assets/img/brand/red.png"
        class="navbar-brand-img"
        alt="..."
      /> -->
    </a>
    <!-- User -->
    <ul class="nav align-items-center d-md-none">
      <li class="nav-item" ngbDropdown placement="bottom-right">
        
        <a class="nav-link nav-link-icon position-relative" role="button" ngbDropdownToggle (click)="notifChecked = !notifChecked">
          <i class="ni ni-bell-55"></i>
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger " style="left: 25px;" *ngIf="notifs.length ? notifs.length : 0">
            {{notifs.length}}
          </span>
        </a>

        <div class="dropdown-menu-arrow dropdown-menu-right py-0 overflow-hidden" ngbDropdownMenu [ngClass]="notifChecked?'show':''" [style]="notifChecked?'inset: 100% 0px auto auto; transform: translateY(0px);':'left: auto; right: 0px;'">
          <div class="px-3 py-3">
            <h6 class="text-sm text-muted m-0">Vous avez <strong class="text-primary">13 </strong> notifications.</h6>
          </div>
          <div class="list-group list-group-flush" *ngFor="let notif of notifs">
            <a class="list-group-item list-group-item-action">
              <div class="row align-items-center">
                <div class="col-auto">
                  <i class="ni {{ notif.icon }}"></i>
                </div>
                <div class="col ml--2">
                  <div class="d-flex justify-content-between align-items-center">
                    <div>
                      <h4 class="mb-0 text-sm">
                        {{notif.title}}
                      </h4>
                    </div>
                    <div class="text-right text-muted">
                      <small>{{notif.date}}</small>
                    </div>
                  </div>
                  <p class="text-sm mb-0">
                    {{notif.body}}
                  </p>
                </div>
              </div>
            </a>
          </div>
        </div>
      </li>
      <li class="nav-item" ngbDropdown placement="bottom-right">
        <a class="nav-link" role="button" ngbDropdownToggle>
          <div class="media align-items-center">
            <span class="avatar avatar-sm rounded-circle"  class="avatar avatar-sm rounded-circle"
            *ngIf="infoUser.body.photo"
            [style]="
              'background-image: url(' + getImg(infoUser.body.photo) + ')'
            "
            style="
              margin: auto;
              background-size: cover;
              background-repeat: no-repeat;
            ">
            </span>
          </div>
        </a>
        <div class="dropdown-menu-arrow dropdown-menu-right" ngbDropdownMenu>
          <div class="dropdown-header noti-title">
            <h6 class="text-overflow m-0">{{"MENUPROFILE.BIENVENUE" |translate }}!</h6>
          </div>
          <a routerLinkActive="active" [routerLink]="['/administration/profil']" class="dropdown-item">
            <i class="ni ni-single-02"></i>
            <span>{{"MENUPROFILE.Profil" |translate }}</span>
          </a>
          <a routerLinkActive="active" [routerLink]="['/administration/parametre/prix-livraison']" class="dropdown-item">
            <i class="ni ni-settings-gear-65"></i>
            <span>{{"MENUPROFILE.Parametre" |translate }}</span>
          </a>
          <div class="dropdown-divider"></div>
          <a [routerLink]="['/session/login']" (click)="logOut()" class="dropdown-item">
            <i class="ni ni-user-run"></i>
            <span>{{"MENUPROFILE.DÃ©connexion" |translate }}</span>
          </a>
        </div>
      </li>
    </ul>
    <!-- Collapse -->
    <div
      class="collapse navbar-collapse"
      [ngbCollapse]="isCollapsed"
      id="sidenav-collapse-main"
    >
      <!-- Collapse header -->
      <div class="navbar-collapse-header d-md-none">
        <div class="row">
          <div class="col-6 collapse-brand">
            <a routerLinkActive="active" [routerLink]="['/dashboard']">
              <img src="./assets/img/brand/blue.png" />
            </a>
          </div>
          <div class="col-6 collapse-close">
            <button
              type="button"
              class="navbar-toggler"
              (click)="isCollapsed = !isCollapsed"
            >
              <span></span>
              <span></span>
            </button>
          </div>
        </div>
      </div>
      <!-- Form -->
      <!-- <form class="mt-4 mb-3 d-md-none">
        <div class="input-group input-group-rounded input-group-merge">
          <input
            type="search"
            class="form-control form-control-rounded form-control-prepended"
            placeholder="Search"
            aria-label="Search"
          />
          <div class="input-group-prepend">
            <div class="input-group-text">
              <span class="fa fa-search"></span>
            </div>
          </div>
        </div>
      </form> -->
      <!-- Navigation -->
      <ul class="navbar-nav">
        <li *ngFor="let menuItem of menuItems; let i = index" class="nav-item">
          <a
          *ngIf="menuItem.display"
            class="nav-link"
            routerLinkActive="active"
            data-toggle="collapse"
            (click)="menuItem.isExpandedd = !menuItem.isExpandedd"
            [attr.aria-expanded]="menuItem.isExpandedd ? 'true' : 'false'"
            aria-controls="collapseExample"
            (click)="toggleExpansion(i)"
            style="font-size: 16px;"
          >
            <i class="ni {{ menuItem.icon }}"></i>
            {{ 'SIDEBAR.'+menuItem.title |translate}}
          </a>
          <!-- Subtitle -->
          <div
            class="collapse"
            id="collapseExample"
            [attr.aria-expanded]="menuItem.isExpandedd ? 'true' : 'false'"
            [attr.aria-hidden]="menuItem.isExpandedd ? 'false' : 'true'"
            aria-hidden="true"
            [ngClass]="menuItem.isExpandedd ? 'show' : ''"
            [style]="
              menuItem.isExpandedd
                ? 'display: block;overflow: hidden;'
                : 'display: none;overflow: hidden;'
            "
          >
          <!--Navigation Subtitle-->
            <ul class="nav nav-sm flex-column">
              <li *ngFor="let menuItem of menuItems[i].items" class="nav-item">
                <a
                *ngIf="menuItem.display"
                  routerLinkActive="active"
                  [routerLink]="[menuItem.path]"
                  class="nav-link"
                  style="font-size: 12px;"
                >
                  {{ 'SIDEBAR.'+menuItem.label | translate}}
                </a>
              </li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
